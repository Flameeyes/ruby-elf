<?xml version='1.0'?>
<!--
Copyright © 2011, Diego "Flameeyes" Pettenò <flameeyes@gmail.com>

This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this generator; if not, write to the Free Software
Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
-->
<article xmlns="http://docbook.org/ns/docbook"
         xmlns:xl="http://www.w3.org/1999/xlink"
         xmlns:xi="http://www.w3.org/2001/XInclude"
         version="5.0" xml:lang="en">
  <info>
    <title>elfgrep</title>

    <xi:include parse="xml" href="author.xmli" />
  </info>

  <section>
    <title>Reference</title>

    <refentry>
      <info>
        <date>January 2011</date>
        <productname>ruby-elf</productname>
      </info>
      <refmeta>
        <refentrytitle>elfgrep</refentrytitle>
        <manvolnum>1</manvolnum>
      </refmeta>
      <refnamediv>
        <refname>elfgrep</refname>
        <refpurpose>Search for symbols matching an expression in ELF files</refpurpose>
      </refnamediv>
      <refsynopsisdiv>
        <cmdsynopsis>
          <command>elfgrep</command>

          <arg choice="req">
            <option>--regexp</option>
            <replaceable>regular-expression</replaceable>
          </arg>

          <arg choice="opt">
            <option>--match-version</option>
          </arg>

          <group choice="opt">
            <arg choice="plain">
              <option>--no-match-undefined</option>
            </arg>

            <arg choice="plain">
              <option>--no-match-defined</option>
            </arg>
          </group>

          <arg choice="opt">
            <option>--invert-match</option>
          </arg>

          <group choice="opt">
            <arg choice="plain">
              <option>--files-without-match</option>
            </arg>

            <arg choice="plain">
              <option>--files-with-matches</option>
            </arg>
          </group>

          <group choice="opt">
            <arg choice="plain">
              <option>--with-filename</option>
            </arg>

            <arg choice="plain">
              <option>--no-filename</option>
            </arg>
          </group>

          <xi:include href="common.xmli"  xpointer="xpointer(id('filelist.synopsis')/*)" />
        </cmdsynopsis>
      </refsynopsisdiv>

      <refsect1>
        <title>Description</title>
        <para>
          <command>elfgrep</command> is a simple script that allows to earch for particular symbols
          within a file, by matching regular expression on their name. It is insipired by the common
          Unix
          <citerefentry><refentrytitle>grep</refentrytitle><manvolnum>1</manvolnum></citerefentry>
          tool.
        </para>
      </refsect1>

      <refsect1>
        <title>Options</title>

        <variablelist>
          <varlistentry>
            <term>
              <option>--regexp</option>
              <replaceable>regular-expression</replaceable>
            </term>
            <term>
              <option>-e</option>
              <replaceable>regular-expression</replaceable>
            </term>
            <listitem>
              <para>
                Specifies the regular expression to apply to the symbols. In contrast to regular
                <citerefentry><refentrytitle>grep</refentrytitle><manvolnum>1</manvolnum></citerefentry>
                you <emphasis>have</emphasis> to provide a <option>--regexp</option> pattern.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><option>--match-version</option></term>
            <term><option>-V</option></term>
            <listitem>
              <para>
                Append the ELF version information for the symbol, separated by an @ symbol, before
                testing the expression for match. This allows to match only symbols that are defined
                with a particular version.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><option>--no-match-undefined</option></term>
            <term><option>-U</option></term>
            <listitem>
              <para>
                Do not report matches on undefined symbols; useful if you're looking for the objects
                defining the symbol, and not those using it.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><option>--no-match-defined</option></term>
            <term><option>-D</option></term>
            <listitem>
              <para>
                Do not report matches on defined symbols; useful if you're looking for the objects
                using the symbol, and not those defining it.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><option>--invert-match</option></term>
            <term><option>-v</option></term>
            <listitem>
              <para>
                Invert the sense of matching, to select non-matching symbols. This does not invert
                the sense of <option>--no-match-undefined</option> and
                <option>--no-match-defined</option>.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><option>--files-without-match</option></term>
            <term><option>-l</option></term>

            <listitem>
              <para>
                Suppress normal output; instead print the name of each input file from which no
                output would normally have been printed.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><option>--files-with-matches</option></term>
            <term><option>-l</option></term>

            <listitem>
              <para>
                Suppress normal output; instead print the name of each input file from which output
                would normally have been printed. The scalling will stop on the first match.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><option>--with-filename</option></term>
            <term><option>-H</option></term>

            <listitem>
              <para>
                Print the file name for each match. This is the default when there is more than one
                file to search.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><option>--no-filename</option></term>
            <term><option>-h</option></term>

            <listitem>
              <para>
                Suppress the prefixing of file names on output. This is the default when there is
                only one file to search.
              </para>
            </listitem>
          </varlistentry>

          <xi:include href="common.xmli" xpointer="xpointer(id('filelist.option')/*)" />
        </variablelist>
      </refsect1>

      <refsect1>
        <title>Bugs and Missing Features</title>

        <xi:include href="common.xmli" xpointer="xpointer(id('filelist.bugpara')/*)" />
      </refsect1>

      <refsect1>
        <title>See Also</title>
        <para>
          <citation xl:href="http://blog.flameeyes.eu/">Flameeyes's Weblog</citation>
          http://blog.flameeyes.eu/
        </para>

        <para>
          Related tools:

          <citerefentry>
            <refentrytitle>grep</refentrytitle>
            <manvolnum>1</manvolnum>
          </citerefentry>,

          <citerefentry>
            <refentrytitle>nm</refentrytitle>
            <manvolnum>1</manvolnum>
          </citerefentry>.
        </para>

        <para>
          Lots of description of options above are lifted directly from the
          <application>grep</application> man page, to avoid confusing with different
          wordings.
        </para>
      </refsect1>
    </refentry>
  </section>
</article>
<!--
    Local Variables:
    mode: nxml
    mode: auto-fill
    mode: flyspell
    ispell-local-dictionary: "english"
    fill-column: 100
    indent-tabs-mode: nil
    End:
-->
